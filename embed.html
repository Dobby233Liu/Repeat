<!DOCTYPE html>
<html lang="zh-cn">
	<head>
		<meta charset="utf-8">
		<style>
			p{margin:0 !important;}
			a{text-decoration: none;}
			a:hover{text-decoration: none;}
			.voy {
				height: 20px !important;
				position: relative;
				top: -2px;
				left: -3px;
				margin-right: -36px;
			}
		</style>
		<title>人类本质</title>
		<link rel="stylesheet" href="https://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap.no-responsive.no-icons.min.css">
		<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.slim.min.js"></script>
		<script src="./chinese.js"></script>
	</head>
	<body id="body">
		<div style="width:320px;height:30px;background-color:#22629E;color:white;font-size:15px;line-height:30px">
			<b><i>&nbsp;&nbsp;&nbsp;<a style="color:white" href="./" target="_blank">人类的本质</a></i></b>&nbsp;&nbsp;&nbsp;<a onclick="document.getElementById('body').style.display='none';" href="#" style="color:white;font-weight:bold;margin-right:5px; float:right;">✖</a>
		</div>

		<div style="width:320px;height:400px;overflow:hidden;background-color:#f0f0f0">
			<div id="chat" style="width:314px;height:360px;margin-left:2px;margin-top:2px;resize:none;background:white;overflow:scroll;border: 1px solid #CCC;-webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);-moz-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);-webkit-transition: border linear 0.2s, box-shadow linear 0.2s;-moz-transition: border linear 0.2s, box-shadow linear 0.2s;-o-transition: border linear 0.2s, box-shadow linear 0.2s;transition: border linear 0.2s, box-shadow linear 0.2s;margin-bottom:5px;">
			</div>
			<input id="chattext" type="text" style="margin-left:2px;width:242px;" onkeypress="handleKeyPress(event,this.form)"/><button onclick="addNewText()" style="margin-top:-10px;" class="btn">发送</button>
		</div>

		<script>
			var i = 0;
			function addNewRepeat(message){
				if (message.toLowerCase().indexOf("repeat") == -1
					|| (message.toLowerCase().indexOf("fu") == -1 && message.toLowerCase().indexOf("du") == -1)
					|| message.toLowerCase2().indexOf("复读") == -1){
					if ((message.toLowerCase2().indexOf("本质") > -1 || message.toLowerCase2().indexOf("本子") > -1) || message.toLowerCase().indexOf("nature") > -1 || (message.toLowerCase().indexOf("ben") > -1 && (message.toLowerCase().indexOf("zhi") > -1 || message.toLowerCase().indexOf("zi") > -1))){
						if ((message.toLowerCase().indexOf("ben") > -1 && (message.toLowerCase().indexOf("zhi") > -1 || message.toLowerCase().indexOf("zi") > -1))){
							message = "fu du jier";
						} else if (message.toLowerCase().indexOf("nature") > -1) {
							message = "repeater";
						} else {
							message = "复读机";
						}
						if (parseInt(2 * Math.random() + 1) == 1) message = message.toUpperCase();
					}
				}
				var chat = document.getElementById("chat");
				var myColor = "blue";
				var name = randomStr(5) + "：";
				chat.innerHTML += "<p style='color:" + myColor + "'>" + name + message + "</p>";
				chat.scrollTop = chat.scrollHeight;
			}
			function repeat(message, times){
				for(var i=0; i<times; i++){
					setTimeout(() => addNewRepeat(message), parseInt(555 * Math.random() + 55));
				}
			}
			function addNewText(origin){
				var message = $('<div/>').text(document.getElementById("chattext").value).html();
				repeat(message, parseInt(10 * Math.random() + 1));
				var chat = document.getElementById("chat");
				var myColor = "red";
				var name = "你：";
				document.getElementById("chattext").value = "";
				chat.innerHTML += "<p style='color:" + myColor + "'>" + name + message + "</p>";
				chat.scrollTop = chat.scrollHeight;
			}
			function handleKeyPress(e,form){
			  var key = e.keyCode || e.which;
			  if (key == 13) addNewText(0);
			}
			repeat("hi", parseInt(10 * Math.random() + 1));
			setInterval(function(){
			  switch (i) {
				  case 0:
					  repeat("do you like 2048?", parseInt(4 * Math.random() + 1));
					  setTimeout(() => repeat("no", parseInt(2 * Math.random() + 1)), 1000);
					  break;
				  case 1:
					  repeat("how do you do in this nice day?", parseInt(4 * Math.random() + 1));
					  setTimeout(() => repeat("nothing", parseInt(2 * Math.random() + 1)), 1000);
					  break;
				  case 2:
					  repeat("i love repeaters", parseInt(4 * Math.random() + 1));
					  break;
				  case 3:
					  repeat("my nat<a></a>ure is repe<a></a>ater y'know", parseInt(4 * Math.random() + 1));
					  break;
				  case 4:
					  repeat("i wanna find adult cats", parseInt(4 * Math.random() + 1));
					  setTimeout(() => repeat("<a href=\"https://adultcatfinder.com\" target=\"_blank\">here you are</a>", parseInt(2 * Math.random() + 1)), 1000);
					  break;
				  case 5:
					  repeat("im determined to talk all the night", parseInt(4 * Math.random() + 1));
					  break;
				  case 6:
					  repeat("bilibili is good", parseInt(4 * Math.random() + 1));
					  break;
				  //case 7:
				  //  repeat("insult magic 9 ball", parseInt(4 * Math.random() + 1));
				  //  break;
				  //case 8:
				  //  repeat("do you have QQ?", parseInt(4 * Math.random() + 1));
				  //  repeat(randomQQ(9) + " password: " + randomStr(8) + randomQQ(10) + randomStr(6), parseInt(2 * Math.random() + 1));
				  //  break;
			  }
			  chat.scrollTop=chat.scrollHeight;
			  i = (i+1)%7;
			},4500);
			function randomStr(m) {
				var m = m || 9; s = '', r = 'CADBEGFHJIMKNLPOSQRTVUYWXcbaZedfhgijnmklorqpsutwvzyx';
				for (var i=0; i < m; i++) s += r.charAt(Math.floor(Math.random()*r.length));
				return s;
			}
			function randomQQ(m) {
				var m = m || 9; s = '', r = '312647598';
				for (var i=0; i < m; i++) s += r.charAt(Math.floor(Math.random()*r.length));
				return s;
			}
		</script>
	</body>
</html>